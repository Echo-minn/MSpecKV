{
  "config": {
    "model": "llama-7B-128K",
    "prefill_length": 16384,
    "gen_length": 256,
    "temperature": 0.6,
    "top_p": 0.9,
    "on_chip_layers": 4,
    "gamma": 8,
    "world_size": 1,
    "dataset": "demo",
    "on_chip_layers_sweep": [
      4,
      8,
      12,
      16,
      18
    ],
    "resident_layers": 16,
    "num_samples": 1,
    "timestamp": "2025-12-15T03:59:52.084985"
  },
  "methods": {
    "triforce_kv_quant": {
      "name": "On chip layer ablation study for offloading with and without KV Cache Quantization",
      "retrieval_budget": 4096,
      "kv_cache_quant_bits": 8,
      "kv_fp16_tail": 0,
      "kv_resident_gpu": true,
      "sweep": {
        "4": {
          "on_chip_layers": 4,
          "resident_layers": 16,
          "baseline": {
            "mean_latency_s": 41.574395307635896,
            "std_latency_s": 0.0,
            "mean_throughput_tok_per_s": 6.157636162972187,
            "mean_accepted_tokens": 5.37386018237082,
            "mean_latency_s_per_token": 0.16239998167045272
          },
          "quant": {
            "mean_latency_s": 23.875635802515685,
            "std_latency_s": 0.0,
            "mean_throughput_tok_per_s": 10.72222755102615,
            "mean_accepted_tokens": 6.574545454545454,
            "mean_latency_s_per_token": 0.0932642023535769
          },
          "speedup_vs_triforce_baseline": 1.7412895577530698
        },
        "8": {
          "on_chip_layers": 8,
          "resident_layers": 16,
          "baseline": {
            "mean_latency_s": 27.457962913074713,
            "std_latency_s": 0.0,
            "mean_throughput_tok_per_s": 9.323342769834538,
            "mean_accepted_tokens": 7.304347826086956,
            "mean_latency_s_per_token": 0.1072576676291981
          },
          "quant": {
            "mean_latency_s": 25.363435810509742,
            "std_latency_s": 0.0,
            "mean_throughput_tok_per_s": 10.093269772777486,
            "mean_accepted_tokens": 5.317365269461078,
            "mean_latency_s_per_token": 0.09907592113480368
          },
          "speedup_vs_triforce_baseline": 1.0825805745803994
        },
        "12": {
          "on_chip_layers": 12,
          "resident_layers": 16,
          "baseline": {
            "mean_latency_s": 33.82251851783609,
            "std_latency_s": 0.0,
            "mean_throughput_tok_per_s": 7.568921866803031,
            "mean_accepted_tokens": 5.111747851002866,
            "mean_latency_s_per_token": 0.13211921296029722
          },
          "quant": {
            "mean_latency_s": 24.852999983162714,
            "std_latency_s": 0.0,
            "mean_throughput_tok_per_s": 10.300567342913677,
            "mean_accepted_tokens": 5.293413173652695,
            "mean_latency_s_per_token": 0.09708203118422935
          },
          "speedup_vs_triforce_baseline": 1.360902850390295
        },
        "16": {
          "on_chip_layers": 16,
          "resident_layers": 16,
          "baseline": {
            "mean_latency_s": 31.86963449725668,
            "std_latency_s": 0.0,
            "mean_throughput_tok_per_s": 8.032724693533474,
            "mean_accepted_tokens": 4.9352112676056334,
            "mean_latency_s_per_token": 0.1244907597549089
          },
          "quant": {
            "mean_latency_s": 14.297930813574975,
            "std_latency_s": 0.0,
            "mean_throughput_tok_per_s": 17.904688681032383,
            "mean_accepted_tokens": 4.580645161290323,
            "mean_latency_s_per_token": 0.05585129224052725
          },
          "speedup_vs_triforce_baseline": 2.228968297076839
        },
        "18": {
          "on_chip_layers": 18,
          "resident_layers": 16,
          "baseline": {
            "mean_latency_s": 26.002738894397066,
            "std_latency_s": 0.0,
            "mean_throughput_tok_per_s": 9.845116740958451,
            "mean_accepted_tokens": 5.707006369426751,
            "mean_latency_s_per_token": 0.10157319880623854
          },
          "quant": {
            "mean_latency_s": 12.564585993840144,
            "std_latency_s": 0.0,
            "mean_throughput_tok_per_s": 20.374726244502238,
            "mean_accepted_tokens": 5.13782991202346,
            "mean_latency_s_per_token": 0.04908041403843806
          },
          "speedup_vs_triforce_baseline": 2.069526119455512
        }
      }
    }
  }
}